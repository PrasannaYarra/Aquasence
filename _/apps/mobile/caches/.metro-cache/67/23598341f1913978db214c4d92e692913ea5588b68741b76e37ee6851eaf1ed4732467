{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"react-reconciler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":152},"end":{"line":4,"column":47,"index":199}}],"key":"6aiG1OTGXIVCEbQ0447FmWRvHy8=","exportNames":["*"],"imports":1}},{"name":"../dom/types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":262},"end":{"line":7,"column":40,"index":302}}],"key":"m/wAiDLrEcK3aZkki0yLP/giXZQ=","exportNames":["*"],"imports":1}},{"name":"./HostConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":304},"end":{"line":9,"column":53,"index":357}}],"key":"g8fOJouYIDxx0kLKgys/b6SJw0Y=","exportNames":["*"],"imports":1}},{"name":"./Container","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":410},"end":{"line":11,"column":46,"index":456}}],"key":"JmmWRCKQXaQpOAk8EymGcMiUmeM=","exportNames":["*"],"imports":1}},{"name":"./Elements","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":458},"end":{"line":13,"column":20,"index":478}}],"key":"O/Xwe27pLtmvt1LkJ/6e5xcOlbA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"SkiaSGRoot\", {\n    enumerable: true,\n    get: function () {\n      return SkiaSGRoot;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _reactReconciler = require(_dependencyMap[3], \"react-reconciler\");\n  var ReactReconciler = _interopDefault(_reactReconciler);\n  var _domTypes = require(_dependencyMap[4], \"../dom/types\");\n  var _HostConfig = require(_dependencyMap[5], \"./HostConfig\");\n  var _Container = require(_dependencyMap[6], \"./Container\");\n  require(_dependencyMap[7], \"./Elements\");\n  var skiaReconciler = (0, ReactReconciler.default)(_HostConfig.sksgHostConfig);\n  skiaReconciler.injectIntoDevTools({\n    bundleType: 1,\n    version: \"0.0.1\",\n    rendererPackageName: \"react-native-skia\"\n  });\n  var SkiaSGRoot = /*#__PURE__*/function () {\n    function SkiaSGRoot(Skia) {\n      var nativeId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n      var onSize = arguments.length > 2 ? arguments[2] : undefined;\n      (0, _classCallCheck.default)(this, SkiaSGRoot);\n      this.Skia = Skia;\n      this.container = (0, _Container.createContainer)(Skia, nativeId, onSize);\n      this.root = skiaReconciler.createContainer(this.container, 0, null, true, null, \"\", console.error, null);\n    }\n    return (0, _createClass.default)(SkiaSGRoot, [{\n      key: \"sg\",\n      get: function () {\n        var children = this.container.root;\n        return {\n          type: _domTypes.NodeType.Group,\n          props: {},\n          children,\n          isDeclaration: false\n        };\n      }\n    }, {\n      key: \"updateContainer\",\n      value: function updateContainer(element) {\n        return new Promise(resolve => {\n          skiaReconciler.updateContainer(element, this.root, null, () => {\n            (0, _HostConfig.debug)(\"updateContainer\");\n            resolve(true);\n          });\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function () {\n        var _render = (0, _asyncToGenerator.default)(function* (element) {\n          this.container.mount();\n          yield this.updateContainer(element);\n          this.container.redraw();\n        });\n        function render(_x) {\n          return _render.apply(this, arguments);\n        }\n        return render;\n      }()\n    }, {\n      key: \"drawOnCanvas\",\n      value: function drawOnCanvas(canvas) {\n        this.container.drawOnCanvas(canvas);\n      }\n    }, {\n      key: \"getPicture\",\n      value: function getPicture() {\n        var recorder = this.Skia.PictureRecorder();\n        var canvas = recorder.beginRecording();\n        this.drawOnCanvas(canvas);\n        return recorder.finishRecordingAsPicture();\n      }\n    }, {\n      key: \"unmount\",\n      value: function unmount() {\n        this.container.unmount();\n        return new Promise(resolve => {\n          skiaReconciler.updateContainer(null, this.root, null, () => {\n            (0, _HostConfig.debug)(\"unmountContainer\");\n            resolve(true);\n          });\n        });\n      }\n    }]);\n  }();\n});","lineCount":105,"map":[[12,2,23,0,"Object"],[12,8,23,0],[12,9,23,0,"defineProperty"],[12,23,23,0],[12,24,23,0,"exports"],[12,31,23,0],[13,4,23,0,"enumerable"],[13,14,23,0],[14,4,23,0,"get"],[14,7,23,0],[14,18,23,0,"get"],[14,19,23,0],[15,6,23,0],[15,13,23,0,"SkiaSGRoot"],[15,23,23,0],[16,4,23,0],[17,2,23,0],[18,2,81,1],[18,6,81,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,81,1],[18,45,81,1,"require"],[18,52,81,1],[18,53,81,1,"_dependencyMap"],[18,67,81,1],[19,2,81,1],[19,6,81,1,"_asyncToGenerator"],[19,23,81,1],[19,26,81,1,"_interopDefault"],[19,41,81,1],[19,42,81,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,81,1],[20,2,81,1],[20,6,81,1,"_babelRuntimeHelpersClassCallCheck"],[20,40,81,1],[20,43,81,1,"require"],[20,50,81,1],[20,51,81,1,"_dependencyMap"],[20,65,81,1],[21,2,81,1],[21,6,81,1,"_classCallCheck"],[21,21,81,1],[21,24,81,1,"_interopDefault"],[21,39,81,1],[21,40,81,1,"_babelRuntimeHelpersClassCallCheck"],[21,74,81,1],[22,2,81,1],[22,6,81,1,"_babelRuntimeHelpersCreateClass"],[22,37,81,1],[22,40,81,1,"require"],[22,47,81,1],[22,48,81,1,"_dependencyMap"],[22,62,81,1],[23,2,81,1],[23,6,81,1,"_createClass"],[23,18,81,1],[23,21,81,1,"_interopDefault"],[23,36,81,1],[23,37,81,1,"_babelRuntimeHelpersCreateClass"],[23,68,81,1],[24,2,4,0],[24,6,4,0,"_reactReconciler"],[24,22,4,0],[24,25,4,0,"require"],[24,32,4,0],[24,33,4,0,"_dependencyMap"],[24,47,4,0],[25,2,4,0],[25,6,4,0,"ReactReconciler"],[25,21,4,0],[25,24,4,0,"_interopDefault"],[25,39,4,0],[25,40,4,0,"_reactReconciler"],[25,56,4,0],[26,2,7,0],[26,6,7,0,"_domTypes"],[26,15,7,0],[26,18,7,0,"require"],[26,25,7,0],[26,26,7,0,"_dependencyMap"],[26,40,7,0],[27,2,9,0],[27,6,9,0,"_HostConfig"],[27,17,9,0],[27,20,9,0,"require"],[27,27,9,0],[27,28,9,0,"_dependencyMap"],[27,42,9,0],[28,2,11,0],[28,6,11,0,"_Container"],[28,16,11,0],[28,19,11,0,"require"],[28,26,11,0],[28,27,11,0,"_dependencyMap"],[28,41,11,0],[29,2,13,0,"require"],[29,9,13,0],[29,10,13,0,"_dependencyMap"],[29,24,13,0],[30,2,15,0],[30,6,15,6,"skiaReconciler"],[30,20,15,20],[30,23,15,23],[30,27,15,23,"ReactReconciler"],[30,42,15,38],[30,43,15,38,"default"],[30,50,15,38],[30,52,15,39,"sksgHostConfig"],[30,63,15,53],[30,64,15,53,"sksgHostConfig"],[30,78,15,53],[30,79,15,54],[31,2,17,0,"skiaReconciler"],[31,16,17,14],[31,17,17,15,"injectIntoDevTools"],[31,35,17,33],[31,36,17,34],[32,4,18,2,"bundleType"],[32,14,18,12],[32,16,18,14],[32,17,18,15],[33,4,19,2,"version"],[33,11,19,9],[33,13,19,11],[33,20,19,18],[34,4,20,2,"rendererPackageName"],[34,23,20,21],[34,25,20,23],[35,2,21,0],[35,3,21,1],[35,4,21,2],[36,2,21,3],[36,6,23,13,"SkiaSGRoot"],[36,16,23,23],[37,4,27,2],[37,13,27,2,"SkiaSGRoot"],[37,24,27,21,"Skia"],[37,28,27,31],[37,30,27,78],[38,6,27,78],[38,10,27,33,"nativeId"],[38,18,27,41],[38,21,27,41,"arguments"],[38,30,27,41],[38,31,27,41,"length"],[38,37,27,41],[38,45,27,41,"arguments"],[38,54,27,41],[38,62,27,41,"undefined"],[38,71,27,41],[38,74,27,41,"arguments"],[38,83,27,41],[38,89,27,44],[38,90,27,45],[38,91,27,46],[39,6,27,46],[39,10,27,48,"onSize"],[39,16,27,76],[39,19,27,76,"arguments"],[39,28,27,76],[39,29,27,76,"length"],[39,35,27,76],[39,42,27,76,"arguments"],[39,51,27,76],[39,57,27,76,"undefined"],[39,66,27,76],[40,6,27,76],[40,10,27,76,"_classCallCheck"],[40,25,27,76],[40,26,27,76,"default"],[40,33,27,76],[40,41,27,76,"SkiaSGRoot"],[40,51,27,76],[41,6,27,76],[41,11,27,21,"Skia"],[41,15,27,31],[41,18,27,21,"Skia"],[41,22,27,31],[42,6,28,4],[42,10,28,8],[42,11,28,9,"container"],[42,20,28,18],[42,23,28,21],[42,27,28,21,"createContainer"],[42,37,28,36],[42,38,28,36,"createContainer"],[42,53,28,36],[42,55,28,37,"Skia"],[42,59,28,41],[42,61,28,43,"nativeId"],[42,69,28,51],[42,71,28,53,"onSize"],[42,77,28,59],[42,78,28,60],[43,6,29,4],[43,10,29,8],[43,11,29,9,"root"],[43,15,29,13],[43,18,29,16,"skiaReconciler"],[43,32,29,30],[43,33,29,31,"createContainer"],[43,48,29,46],[43,49,30,6],[43,53,30,10],[43,54,30,11,"container"],[43,63,30,20],[43,65,31,6],[43,66,31,7],[43,68,32,6],[43,72,32,10],[43,74,33,6],[43,78,33,10],[43,80,34,6],[43,84,34,10],[43,86,35,6],[43,88,35,8],[43,90,36,6,"console"],[43,97,36,13],[43,98,36,14,"error"],[43,103,36,19],[43,105,37,6],[43,109,38,4],[43,110,38,5],[44,4,39,2],[45,4,39,3],[45,15,39,3,"_createClass"],[45,27,39,3],[45,28,39,3,"default"],[45,35,39,3],[45,37,39,3,"SkiaSGRoot"],[45,47,39,3],[46,6,39,3,"key"],[46,9,39,3],[47,6,39,3,"get"],[47,9,39,3],[47,11,41,2],[47,20,41,2,"get"],[47,21,41,2],[47,23,41,11],[48,8,42,4],[48,12,42,10,"children"],[48,20,42,18],[48,23,42,21],[48,27,42,25],[48,28,42,26,"container"],[48,37,42,35],[48,38,42,36,"root"],[48,42,42,40],[49,8,43,4],[49,15,43,11],[50,10,43,13,"type"],[50,14,43,17],[50,16,43,19,"NodeType"],[50,25,43,27],[50,26,43,27,"NodeType"],[50,34,43,27],[50,35,43,28,"Group"],[50,40,43,33],[51,10,43,35,"props"],[51,15,43,40],[51,17,43,42],[51,18,43,43],[51,19,43,44],[52,10,43,46,"children"],[52,18,43,54],[53,10,43,56,"isDeclaration"],[53,23,43,69],[53,25,43,71],[54,8,43,77],[54,9,43,78],[55,6,44,2],[56,4,44,3],[57,6,44,3,"key"],[57,9,44,3],[58,6,44,3,"value"],[58,11,44,3],[58,13,46,2],[58,22,46,10,"updateContainer"],[58,37,46,25,"updateContainer"],[58,38,46,26,"element"],[58,45,46,44],[58,47,46,46],[59,8,47,4],[59,15,47,11],[59,19,47,15,"Promise"],[59,26,47,22],[59,27,47,24,"resolve"],[59,34,47,31],[59,38,47,36],[60,10,48,6,"skiaReconciler"],[60,24,48,20],[60,25,48,21,"updateContainer"],[60,40,48,36],[60,41,48,37,"element"],[60,48,48,44],[60,50,48,46],[60,54,48,50],[60,55,48,51,"root"],[60,59,48,55],[60,61,48,57],[60,65,48,61],[60,67,48,63],[60,73,48,69],[61,12,49,8],[61,16,49,8,"debug"],[61,27,49,13],[61,28,49,13,"debug"],[61,33,49,13],[61,35,49,14],[61,52,49,31],[61,53,49,32],[62,12,50,8,"resolve"],[62,19,50,15],[62,20,50,16],[62,24,50,20],[62,25,50,21],[63,10,51,6],[63,11,51,7],[63,12,51,8],[64,8,52,4],[64,9,52,5],[64,10,52,6],[65,6,53,2],[66,4,53,3],[67,6,53,3,"key"],[67,9,53,3],[68,6,53,3,"value"],[68,11,53,3],[69,8,53,3],[69,12,53,3,"_render"],[69,19,53,3],[69,26,53,3,"_asyncToGenerator"],[69,43,53,3],[69,44,53,3,"default"],[69,51,53,3],[69,53,55,2],[69,64,55,15,"element"],[69,71,55,33],[69,73,55,35],[70,10,56,4],[70,14,56,8],[70,15,56,9,"container"],[70,24,56,18],[70,25,56,19,"mount"],[70,30,56,24],[70,31,56,25],[70,32,56,26],[71,10,57,4],[71,16,57,10],[71,20,57,14],[71,21,57,15,"updateContainer"],[71,36,57,30],[71,37,57,31,"element"],[71,44,57,38],[71,45,57,39],[72,10,58,4],[72,14,58,8],[72,15,58,9,"container"],[72,24,58,18],[72,25,58,19,"redraw"],[72,31,58,25],[72,32,58,26],[72,33,58,27],[73,8,59,2],[73,9,59,3],[74,8,59,3],[74,17,55,8,"render"],[74,23,55,14,"render"],[74,24,55,14,"_x"],[74,26,55,14],[75,10,55,14],[75,17,55,14,"_render"],[75,24,55,14],[75,25,55,14,"apply"],[75,30,55,14],[75,37,55,14,"arguments"],[75,46,55,14],[76,8,55,14],[77,8,55,14],[77,15,55,8,"render"],[77,21,55,14],[78,6,55,14],[79,4,55,14],[80,6,55,14,"key"],[80,9,55,14],[81,6,55,14,"value"],[81,11,55,14],[81,13,61,2],[81,22,61,2,"drawOnCanvas"],[81,34,61,14,"drawOnCanvas"],[81,35,61,15,"canvas"],[81,41,61,31],[81,43,61,33],[82,8,62,4],[82,12,62,8],[82,13,62,9,"container"],[82,22,62,18],[82,23,62,19,"drawOnCanvas"],[82,35,62,31],[82,36,62,32,"canvas"],[82,42,62,38],[82,43,62,39],[83,6,63,2],[84,4,63,3],[85,6,63,3,"key"],[85,9,63,3],[86,6,63,3,"value"],[86,11,63,3],[86,13,65,2],[86,22,65,2,"getPicture"],[86,32,65,12,"getPicture"],[86,33,65,12],[86,35,65,15],[87,8,66,4],[87,12,66,10,"recorder"],[87,20,66,18],[87,23,66,21],[87,27,66,25],[87,28,66,26,"Skia"],[87,32,66,30],[87,33,66,31,"PictureRecorder"],[87,48,66,46],[87,49,66,47],[87,50,66,48],[88,8,67,4],[88,12,67,10,"canvas"],[88,18,67,16],[88,21,67,19,"recorder"],[88,29,67,27],[88,30,67,28,"beginRecording"],[88,44,67,42],[88,45,67,43],[88,46,67,44],[89,8,68,4],[89,12,68,8],[89,13,68,9,"drawOnCanvas"],[89,25,68,21],[89,26,68,22,"canvas"],[89,32,68,28],[89,33,68,29],[90,8,69,4],[90,15,69,11,"recorder"],[90,23,69,19],[90,24,69,20,"finishRecordingAsPicture"],[90,48,69,44],[90,49,69,45],[90,50,69,46],[91,6,70,2],[92,4,70,3],[93,6,70,3,"key"],[93,9,70,3],[94,6,70,3,"value"],[94,11,70,3],[94,13,72,2],[94,22,72,2,"unmount"],[94,29,72,9,"unmount"],[94,30,72,9],[94,32,72,12],[95,8,73,4],[95,12,73,8],[95,13,73,9,"container"],[95,22,73,18],[95,23,73,19,"unmount"],[95,30,73,26],[95,31,73,27],[95,32,73,28],[96,8,74,4],[96,15,74,11],[96,19,74,15,"Promise"],[96,26,74,22],[96,27,74,24,"resolve"],[96,34,74,31],[96,38,74,36],[97,10,75,6,"skiaReconciler"],[97,24,75,20],[97,25,75,21,"updateContainer"],[97,40,75,36],[97,41,75,37],[97,45,75,41],[97,47,75,43],[97,51,75,47],[97,52,75,48,"root"],[97,56,75,52],[97,58,75,54],[97,62,75,58],[97,64,75,60],[97,70,75,66],[98,12,76,8],[98,16,76,8,"debug"],[98,27,76,13],[98,28,76,13,"debug"],[98,33,76,13],[98,35,76,14],[98,53,76,32],[98,54,76,33],[99,12,77,8,"resolve"],[99,19,77,15],[99,20,77,16],[99,24,77,20],[99,25,77,21],[100,10,78,6],[100,11,78,7],[100,12,78,8],[101,8,79,4],[101,9,79,5],[101,10,79,6],[102,6,80,2],[103,4,80,3],[104,2,80,3],[105,0,80,3],[105,3]],"functionMap":{"names":["<global>","SkiaSGRoot","SkiaSGRoot#constructor","SkiaSGRoot#get__sg","SkiaSGRoot#updateContainer","Promise$argument_0","skiaReconciler.updateContainer$argument_3","SkiaSGRoot#render","SkiaSGRoot#drawOnCanvas","SkiaSGRoot#getPicture","SkiaSGRoot#unmount"],"mappings":"AAA;OCsB;ECI;GDY;EEE;GFG;EGE;uBCC;+DCC;ODG;KDC;GHC;EME;GNI;EOE;GPE;EQE;GRK;ESE;uBLE;4DCC;ODG;KKC;GTC;CDC"},"hasCjsExports":false},"type":"js/module"}]}